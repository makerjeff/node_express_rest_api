<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Express REST API</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
    <h1 id="title" draggable="true">Express REST API</h1>
    <button id="firstButton">People</button><br>
    <button id="secondButton">Quote</button><br>
    <button id="thirdButton">Random Quote</button> <br>
    <div id="resultDiv"></div>

    <img src="img/50.jpg"> <br>
    <img src="img/jefe.png">


<script>
    var button1 = document.getElementById('firstButton');
    var button2 = document.getElementById('secondButton');
    var button3 = document.getElementById('thirdButton');
    var resultDiv = document.getElementById('resultDiv');

    button1.addEventListener('click', function(event) {
        grabData('/json');
    });

    button2.addEventListener('click', function(event){
        grabData('/quotes');
    });

    //custom functions

    // = essential custom XHR =
    function grabData(path) {
        var http = new XMLHttpRequest();

        http.onreadystatechange = function() {

            if(http.readyState == 4 && http.status == 200) {

                var data = http.responseText;
                var parsedData = JSON.parse(data);
                var myString = '';

                // build up myString using array.prototype.forEach(element, index, array);
                // (element value, element index, array being traversed)
                parsedData.forEach(function(element, index, array){
                    myString += '<b>';
                    myString += array[index].first;
                    myString += ' ';
                    myString += array[index].last;
                    myString += ': </b>';
                    myString += array[index].title;
                    myString += '<br>';
                });

                resultDiv.innerHTML = myString;
            }
        };

        http.open('GET', path, true);
        http.send();
    }

    function updateDisplay(data) {
        resultDiv.innerHTML = data;
    }

</script>

</body>
</html>